<!DOCTYPE html>
<html>
<head>
  <title>Lighthouse Score Trends</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .chart-container {
      position: relative;
      height: 400px;
      margin-bottom: 40px;
    }
    h1 {
      text-align: center;
      color: #333;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ðŸ“ˆ Lighthouse Score Trends</h1>
    
    <h2>Desktop Performance</h2>
    <div class="chart-container">
      <canvas id="desktopChart"></canvas>
    </div>
    
    <h2>Mobile Performance</h2>
    <div class="chart-container">
      <canvas id="mobileChart"></canvas>
    </div>
    
    <script>
      // Parse the history data
      const historyData = [
        {
          "timestamp": "2025-08-01T12:00:00.000Z",
          "desktop": {
            "performance": 88,
            "accessibility": 92,
            "bestPractices": 94,
            "seo": 93
          },
          "mobile": {
            "performance": 82,
            "accessibility": 90,
            "bestPractices": 92,
            "seo": 93
          }
        },
        {
          "timestamp": "2025-08-08T12:00:00.000Z",
          "desktop": {
            "performance": 90,
            "accessibility": 93,
            "bestPractices": 95,
            "seo": 94
          },
          "mobile": {
            "performance": 84,
            "accessibility": 91,
            "bestPractices": 93,
            "seo": 94
          }
        },
        {
          "timestamp": "2025-08-15T16:45:00.000Z",
          "desktop": {
            "performance": 92,
            "accessibility": 94,
            "bestPractices": 96,
            "seo": 95
          },
          "mobile": {
            "performance": 85,
            "accessibility": 92,
            "bestPractices": 94,
            "seo": 95
          }
        }
      ];
      
      // Prepare data for charts
      const labels = historyData.map(entry => {
        const date = new Date(entry.timestamp);
        return date.toLocaleDateString();
      });
      
      // Desktop data
      const desktopData = {
        performance: historyData.map(entry => entry.desktop.performance),
        accessibility: historyData.map(entry => entry.desktop.accessibility),
        bestPractices: historyData.map(entry => entry.desktop.bestPractices),
        seo: historyData.map(entry => entry.desktop.seo)
      };
      
      // Mobile data
      const mobileData = {
        performance: historyData.map(entry => entry.mobile.performance),
        accessibility: historyData.map(entry => entry.mobile.accessibility),
        bestPractices: historyData.map(entry => entry.mobile.bestPractices),
        seo: historyData.map(entry => entry.mobile.seo)
      };
      
      // Create desktop chart
      const desktopCtx = document.getElementById('desktopChart').getContext('2d');
      new Chart(desktopCtx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'Performance',
              data: desktopData.performance,
              borderColor: '#FF6384',
              backgroundColor: 'rgba(255, 99, 132, 0.1)',
              tension: 0.1
            },
            {
              label: 'Accessibility',
              data: desktopData.accessibility,
              borderColor: '#36A2EB',
              backgroundColor: 'rgba(54, 162, 235, 0.1)',
              tension: 0.1
            },
            {
              label: 'Best Practices',
              data: desktopData.bestPractices,
              borderColor: '#FFCE56',
              backgroundColor: 'rgba(255, 206, 86, 0.1)',
              tension: 0.1
            },
            {
              label: 'SEO',
              data: desktopData.seo,
              borderColor: '#4BC0C0',
              backgroundColor: 'rgba(75, 192, 192, 0.1)',
              tension: 0.1
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              min: 0,
              max: 100,
              ticks: {
                callback: function(value) {
                  return value + '/100';
                }
              }
            }
          }
        }
      });
      
      // Create mobile chart
      const mobileCtx = document.getElementById('mobileChart').getContext('2d');
      new Chart(mobileCtx, {
        type: 'line',
        data: {
          labels: labels,
          datasets: [
            {
              label: 'Performance',
              data: mobileData.performance,
              borderColor: '#FF6384',
              backgroundColor: 'rgba(255, 99, 132, 0.1)',
              tension: 0.1
            },
            {
              label: 'Accessibility',
              data: mobileData.accessibility,
              borderColor: '#36A2EB',
              backgroundColor: 'rgba(54, 162, 235, 0.1)',
              tension: 0.1
            },
            {
              label: 'Best Practices',
              data: mobileData.bestPractices,
              borderColor: '#FFCE56',
              backgroundColor: 'rgba(255, 206, 86, 0.1)',
              tension: 0.1
            },
            {
              label: 'SEO',
              data: mobileData.seo,
              borderColor: '#4BC0C0',
              backgroundColor: 'rgba(75, 192, 192, 0.1)',
              tension: 0.1
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              min: 0,
              max: 100,
              ticks: {
                callback: function(value) {
                  return value + '/100';
                }
              }
            }
          }
        }
      });
    </script>
  </div>
</body>
</html>

